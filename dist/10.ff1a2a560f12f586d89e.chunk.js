webpackJsonp([10],{"/VRL":function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},"M/g9":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("/oeL"),n=o("qbdv"),s=o("mSOr"),a=o("dl4x"),i=o("gOac"),c=o("bm2B"),l=o("VJBh"),u=o("iz04"),m=o("i/zL"),d=o("wso+");o.d(e,"CustomersModule",function(){return f});var h=this&&this.__decorate||function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},f=function(){function t(){}return t}();f=h([o.i(r.NgModule)({imports:[n.k,s.a,i.b,c.a,u.a],providers:[m.a,n.l,d.a],declarations:[a.a,l.a]})],f)},O649:function(t,e){t.exports='<div class="container-fluid">\n<h1> Customer Management </h1>\n     <hr>\n    <div class="row">\n      <div class="col-lg-6" style="float: none; margin: 0 auto;">\n      <form role="form" (ngSubmit)="searchCustomer(c)" #c="ngForm">\n\n                 <fieldset class="form-group card mb-3">\n                  <label class="card-header">Customer Name</label>\n                  <input class="form-control" ngModel name="Name" >\n              </fieldset>\n              <fieldset class="form-group card mb-3">\n                  <label class="card-header">Email</label>\n                  <input  type="text" class="form-control" ngModel name="Email">\n\n              </fieldset>\n              <fieldset class="form-group card mb-3">\n                <label for="" class="card-header">Roles</label>\n                <select ngModel name="customerRole">\n                  \n                  <option *ngFor="let roles of customerRoleList" [value]="roles.Id">{{roles.Name}}</option>\n                </select>\n\n              </fieldset>\n           \n\n              <button type="submit" class="btn btn-primary" [disabled]="!c.valid">Search Customer</button>\n              <div style="height:30px;"></div>\n      </form>\n      </div>\n      <br>\n    </div>\n      <div class="row">\n      <div  class="center-block" style="float: none; margin: 0 auto;">\n        <div class="card mb-3">\n                <div class="card-header">\n                  <h2>Customers</h2>\n                  <button class="btn btn-success" (click)="showAllCustomers()" *ngIf="showAll">Show All</button>\n                </div>\n                <div class="card-block" style="width:100%;">\n                    <table class="table table-bordered" style="table-layout:fixed">\n                        <thead class="thead-inverse">\n                        <tr>\n\n                            <th>Email</th>\n                            <th>Name</th>\n                            <th>Customer Roles</th>\n                            <th>Company Name</th>\n                            \n                            <th>Created On</th>\n                            <th>Last Activity</th>\n                            <th>Action</th>\n\n\n\n                        </tr>\n                        </thead>\n                        <tbody>\n                          <tr *ngFor =" let i = index ;let customer of customerList| paginate: { id:\'Customers\', itemsPerPage:10 , currentPage: currentPageNumber , totalItems: totalCustomers} " >\n\n\n                          <td>{{customer.Email}}</td>\n                          <td>{{customer.FullName}}</td>\n                          <td>{{customer.CustomerRoleNames}}</td>\n                          <td>{{customer.Company}}</td>\n                         \n                          <td>{{customer.CreatedOn | date}}</td>\n                          <td>{{customer.LastActivityDate | date}}</td>\n                          \x3c!-- <td><button type="button" name="{{customer.Id}}" class="btn btn-primary" (click)="editCustomerMode(x)" #x><i class="fa fa-edit"></i></button> --\x3e\n                          <td>    <button type="button" name="{{customer.Id}}" class="btn btn-danger" (click)="deleteCustomer(d)" #d><i class="fa fa-times"></i></button>\n                                      </td>\n                        </tr>\n\n                        </tbody>\n                    </table>\n                      <img [src]="loadingImagePath" *ngIf="loadingCustomer" alt="">\n                      <pagination-controls (pageChange)="getCustomers($event)" id="Customers"></pagination-controls>\n\n                </div>\n            </div>\n  </div>\n\n\n    </div>\n  </div>\n'},VJBh:function(t,e,o){"use strict";var r=o("/oeL");o.d(e,"a",function(){return s});var n=this&&this.__decorate||function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},s=function(){function t(){}return t.prototype.transform=function(t,e){return null},t}();s=n([o.i(r.Pipe)({name:"filter"})],s)},dl4x:function(t,e,o){"use strict";var r=o("/oeL"),n=o("i/zL"),s=o("bm2B"),a=o("CPp0");o.d(e,"a",function(){return l});var i=this&&this.__decorate||function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.http=t,this.customersService=e,this.customer=[],this.customerList=[],this.searchParameters={}}return t.prototype.ngOnInit=function(){this.currentPageNumber=1,this.editMode=!1,this.CustomerId=0,this.Email="",this.Name="",this.Company="",this.Active=!1,this.CreatedOn="",this.LastActivityDate="",this.loadingCustomer=!1,this.loadingImagePath="../../assets/images/ajax-loader.gif",this.totalCustomers=0,this.showAll=!1,this.getCustomers(1),this.getCustomerRoles()},t.prototype.getCustomers=function(t){var e=this;this.loadingCustomer=!0,this.customersService.getCustomers(t).subscribe(function(o){e.currentPageNumber=t,e.customerList=o.json().Data,console.log(e.customerList),e.loadingCustomer=!1,e.totalCustomers=o.json().Total},function(t){console.log(t),alert("Can't fetch data ! Please refresh or check your connnection !")})},t.prototype.deleteCustomer=function(t){var e=this;confirm("Are you sure you want to delete ?")&&(this.loadingCustomer=!0,this.customersService.deleteCustomers(+t.name).subscribe(function(t){alert("Deleted !"),console.log(t.json()),e.getCustomers(e.currentPageNumber)},function(t){console.log(t),alert("Can't fetch data ! Please refresh or check your connnection !")}))},t.prototype.getCurrentCustomer=function(t){return[]},t.prototype.searchCustomer=function(){var t=this;this.loadingCustomer=!0,this.Name=this.customerForm.value.Name,this.Email=this.customerForm.value.Email,this.customerRole=this.customerForm.value.customerRole,this.searchParameters={SearchEmail:this.Email,SearchUsername:this.Name,SearchCustomerRoleIds:[this.customerRole]},this.customersService.searchCustomers(this.searchParameters).subscribe(function(e){t.showAll=!0,t.loadingCustomer=!1,t.customerList=e.json().Data,t.totalCustomers=e.json().Total},function(t){console.log(t),alert("Can't fetch data ! Please refresh or check your connnection !")})},t.prototype.getCustomerRoles=function(){var t=this;this.customersService.getCustomerRoles().subscribe(function(e){t.customerRoleList=e.json().Data},function(t){console.log(t),alert("Can't fetch Customer Roles ! Please refresh or check your connnection !")})},t.prototype.showAllCustomers=function(){this.getCustomers(this.currentPageNumber),this.showAll=!1},t}();i([o.i(r.ViewChild)("c"),c("design:type","function"==typeof(u=void 0!==s.b&&s.b)&&u||Object)],l.prototype,"customerForm",void 0),l=i([o.i(r.Component)({selector:"app-customers",template:o("O649"),styles:[o("/VRL")]}),c("design:paramtypes",["function"==typeof(m=void 0!==a.b&&a.b)&&m||Object,"function"==typeof(d=void 0!==n.a&&n.a)&&d||Object])],l);var u,m,d},"i/zL":function(t,e,o){"use strict";var r=o("/oeL"),n=o("CPp0"),s=o("wso+");o.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.http=t,this.urlService=e}return t.prototype.getCustomers=function(t){var e=new n.c({"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("Token").toUpperCase()});return this.http.post(this.urlService.serverUrl+"/customers",{},{headers:e})},t.prototype.updateCustomers=function(t,e){var o=new n.c({"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("Token").toUpperCase()});return console.log(t),this.http.post(this.urlService.serverUrl+"/customers/Update",t[e],{headers:o})},t.prototype.deleteCustomers=function(t){var e=new n.c({"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("Token").toUpperCase()});return this.http.post(this.urlService.serverUrl+"/customers/Delete?id="+t,null,{headers:e})},t.prototype.searchCustomers=function(t){var e=new n.c({"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("Token").toUpperCase()});return this.http.post(this.urlService.serverUrl+"/customers",t,{headers:e})},t.prototype.getCustomerRoles=function(){return this.http.get(this.urlService.serverUrl+"/customers/Roles")},t}();c=a([o.i(r.Injectable)(),i("design:paramtypes",["function"==typeof(l=void 0!==n.b&&n.b)&&l||Object,"function"==typeof(u=void 0!==s.a&&s.a)&&u||Object])],c);var l,u},mSOr:function(t,e,o){"use strict";var r=o("/oeL"),n=o("BkNc"),s=o("dl4x");o.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},i=[{path:"",component:s.a}],c=function(){function t(){}return t}();c=a([o.i(r.NgModule)({imports:[n.a.forChild(i)],exports:[n.a]})],c)}});