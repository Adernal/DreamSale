webpackJsonp([14],{"+oCg":function(e,t){e.exports='<div class="container">\n    <h1> Return Request Management </h1>\n         <hr>\n         <div class="row" *ngIf="!editMode">\n                <div class="col-lg-6" style="float: none; margin: 0 auto;">\n                <form role="form" (ngSubmit)="searchReturnRequest(c)" #c="ngForm">\n          \n                       \n                     \n                        <fieldset class="form-group card mb-3">\n                          <label for="" class="card-header">Return Request Status Id</label>\n                          <select ngModel name="ReturnRequestStatusId">\n                            \n                           <option value="-1">All</option>\n                           <option value="0">Pending</option>\n                           <option value="10">Received</option>\n                           <option value="20">Return Authorized</option>\n                           <option value="30">Item Repaired</option>\n                           <option value="40">Item Refunded</option>\n                           <option value="50">Request Rejected</option>\n                           <option value="60">Cancelled</option>\n\n                          </select>\n          \n                        </fieldset>\n                      \n                          <fieldset class="form-group card mb-3">\n                            <label for="" class="card-header">Start Date</label>\n                        \n                          <my-date-picker name="startDate" [options]="myDatePickerOptions" (dateChanged)="onStartDateChanged($event)"></my-date-picker>\n                         </fieldset>\n                         <fieldset class="form-group card mb-3">\n                            <label for="" class="card-header">End Date</label>\n                        \n                          <my-date-picker name="endDate" [options]="myDatePickerOptions" (dateChanged)="onEndDateChanged($event)"></my-date-picker>\n                         </fieldset>\n    \n                        <button type="submit" class="btn btn-primary" [disabled]="!c.valid">Search List</button>\n                        <img [src]="loadingImagePath" *ngIf="loadingReturnRequest" alt=""> \n                        <div style="height:30px;"></div>\n                </form>\n                </div>\n\n                <div class="row" *ngIf="editMode">\n                        <div class="col-lg-6" style="float: none; margin: 0 auto;">\n                        <form role="form" (ngSubmit)="updateReturnRequest(u)" #u="ngForm">\n                  \n                               \n                             \n                                <fieldset class="form-group card mb-3">\n                                  <label for="" class="card-header">Return Request Status Id</label>\n                                  <p>Current Status Id: {{returnRequestStatusId}}</p>\n                                  <select ngModel name="ReturnRequestStatusId">\n                                    \n                                   <option value="-1">All</option>\n                                   <option value="0">Pending</option>\n                                   <option value="10">Received</option>\n                                   <option value="20">Return Authorized</option>\n                                   <option value="30">Item Repaired</option>\n                                   <option value="40">Item Refunded</option>\n                                   <option value="50">Request Rejected</option>\n                                   <option value="60">Cancelled</option>\n        \n                                  </select>\n                  \n                                </fieldset>\n                              \n                                \n            \n                                <button type="submit" class="btn btn-primary" [disabled]="!u.valid">Update Return Request</button>\n                                <img [src]="loadingImagePath" *ngIf="loadingReturnRequest" alt=""> \n                                <div style="height:30px;"></div>\n                        </form>\n                        </div>\n                 \n       \n    </div>\n    \n        <div class="row" *ngIf="showAllReturnRequests">\n            <div class="card mb-3">\n                    <div class="card-header">\n                      <h2>Return Requests</h2>\n                    </div>\n                    <div class="card-block" style="width:100%;">\n                        <table class="table table-bordered" style="table-layout:fixed">\n                            <thead class="thead-inverse">\n                            <tr>\n    \n                                <th>Product</th>\n                                <th>Quantity</th>\n                                <th>Customer</th>\n                                <th>Order #</th>\n                                <th>Return Request Status</th>\n                                <th>Date</th>\n                                <th>Action</th>\n                            \n    \n    \n    \n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr *ngFor ="let returnRequest of returnRequestList">\n                              <td>{{returnRequest.ProductName}}</td>\n                              <td>{{returnRequest.Quantity}}</td>\n                              <td>{{returnRequest.CustomerInfo}}</td>\n                              <td>{{returnRequest.OrderId}}</td>\n                              <td>{{returnRequest.ReturnRequestStatusStr}}</td>\n                              <td>{{returnRequest.CreatedOn | date}}</td>\n                              <td><button type="button" name="{{returnRequest.Id}}" class="btn btn-primary" (click)="editReturnRequestMode(c)" #c><i class="fa fa-edit"></i></button></td>\n                              <td><button type="button" name="{{returnRequest.Id}}" class="btn btn-primary" (click)="deleteReturnRequest(d)" #d><i class="fa fa-delete"></i></button></td>   \n                            </tr>\n    \n    \n                            </tbody>\n                        </table>\n                         <img [src]="loadingImagePath" *ngIf="loadingOrder" alt=""> \n                      <pagination-controls (pageChange)="getAllReturnRequests($event)" id="ReturnRequests"></pagination-controls>\n                    </div>\n                </div>\n    \n    \n    \n        </div>\n        <div class="row" *ngIf="showSearchList">\n                <div class="card mb-3">\n                        <div class="card-header">\n                          <h2>Return Requests</h2>\n                          <button class="btn btn-success" (click)="showAll()">Show All</button>\n                        </div>\n                        <div class="card-block" style="width:100%;">\n                            <table class="table table-bordered" style="table-layout:fixed">\n                                <thead class="thead-inverse">\n                                <tr>\n        \n                                    <th>Product</th>\n                                    <th>Quantity</th>\n                                    <th>Customer</th>\n                                    <th>Order #</th>\n                                    <th>Return Request Status</th>\n                                    <th>Date</th>\n                                    <th>Action</th>\n                                \n        \n        \n        \n                                </tr>\n                                </thead>\n                                <tbody>\n                                <tr *ngFor ="let returnRequest of returnRequestList">\n                                  <td>{{returnRequest.ProductName}}</td>\n                                  <td>{{returnRequest.Quantity}}</td>\n                                  <td>{{returnRequest.CustomerInfo}}</td>\n                                  <td>{{returnRequest.OrderId}}</td>\n                                  <td>{{returnRequest.ReturnRequestStatusStr}}</td>\n                                  <td>{{returnRequest.CreatedOn | date}}</td>\n                                  <td><button type="button" name="{{returnRequest.Id}}" class="btn btn-primary" (click)="editReturnRequestMode(e)" #e><i class="fa fa-edit"></i></button></td>\n                                  <td><button type="button" name="{{returnRequest.Id}}" class="btn btn-primary" (click)="deleteReturnRequest(d)" #d><i class="fa fa-delete"></i></button></td> \n                                </tr>\n        \n        \n                                </tbody>\n                            </table>\n                             <img [src]="loadingImagePath" *ngIf="loadingOrder" alt=""> \n                          <pagination-controls (pageChange)="getAllReturnRequests($event)" id="ReturnRequests"></pagination-controls>\n                        </div>\n                    </div>\n        \n        \n        \n            </div>\n '},RoY6:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},VrPv:function(e,t,n){"use strict";var r=n("/oeL"),s=n("BkNc"),o=n("XRH+");n.d(t,"a",function(){return i});var u=this&&this.__decorate||function(e,t,n,r){var s,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(u=(o<3?s(u):o>3?s(t,n,u):s(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},a=[{path:"",component:o.a}],i=function(){function e(){}return e}();i=u([n.i(r.NgModule)({imports:[s.a.forChild(a)],exports:[s.a]})],i)},"XRH+":function(e,t,n){"use strict";var r=n("/oeL"),s=n("bm2B"),o=n("CPp0"),u=n("XfN7");n.d(t,"a",function(){return d});var a=this&&this.__decorate||function(e,t,n,r){var s,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(u=(o<3?s(u):o>3?s(t,n,u):s(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){this.http=e,this.returnRequestService=t,this.myDatePickerOptions={dateFormat:"dd.mm.yyyy"}}return e.prototype.ngOnInit=function(){this.showAllReturnRequests=!0,this.showSearchList=!1,this.editMode=!1,this.loadingReturnRequest=!1,this.getAllReturnRequests()},e.prototype.getAllReturnRequests=function(){var e=this;this.loadingReturnRequest=!0,this.returnRequestService.getReturnRequest().subscribe(function(t){e.loadingReturnRequest=!1,e.returnRequestList=t.json().Data,console.log(e.returnRequestList),e.totalReturnRequests=t.json().Total},function(e){console.log(e),alert("Can't fetch Return Requests ! Please refresh or check your connnection !")})},e.prototype.searchReturnRequest=function(){var e=this;this.loadingReturnRequest=!0,this.returnRequestStatusId=this.returnRequestForm.value.ReturnRequestStatusId,this.searchParameters={StartDate:this.startDate,EndDate:this.endDate,ReturnRequestStatusId:this.returnRequestStatusId},this.returnRequestService.searchReturnRequest(this.searchParameters).subscribe(function(t){e.loadingReturnRequest=!1,e.showAllReturnRequests=!1,e.showSearchList=!0,e.searchReturnRequestList=t.json().Data,console.log(e.searchReturnRequestList),e.totalReturnRequests=t.json().Total},function(e){console.log(e),alert("Can't fetch Return Requests ! Please refresh or check your connnection !")}),this.returnRequestForm.reset()},e.prototype.onStartDateChanged=function(e){this.startDate=new Date(e.jsdate).toLocaleDateString()},e.prototype.onEndDateChanged=function(e){this.endDate=new Date(e.jsdate).toLocaleDateString()},e.prototype.showAll=function(){this.returnRequestForm.reset(),this.showAllReturnRequests=!0,this.showSearchList=!1,this.editMode=!1},e.prototype.editReturnRequestMode=function(e){this.editMode=!0,this.Id=+e.name,this.currentReturnRequest=this.getCurrentReturnRequest(this.Id)[0],this.returnRequestStatusId=this.currentReturnRequest.ReturnRequestStatusId},e.prototype.updateReturnRequest=function(){var e=this;this.returnRequestStatusId=this.editReturnRequestForm.value.returnRequestStatusId,this.searchParameters={Id:this.Id,ReturnRequestStatusId:this.returnRequestStatusId},this.returnRequestService.updateReturnRequest(this.searchParameters).subscribe(function(t){e.loadingReturnRequest=!1,alert("Deleted !"),e.getAllReturnRequests()},function(t){e.loadingReturnRequest=!1,console.log(t),alert("Can't delete Return Request ! Please refresh or check your connnection !")})},e.prototype.deleteReturnRequest=function(e){var t=this;confirm("Are you sure you want to delete ?")&&(this.loadingReturnRequest=!0,this.returnRequestService.deleteReturnRequest(+e.name).subscribe(function(e){t.loadingReturnRequest=!1,alert("Deleted !"),t.getAllReturnRequests()},function(e){t.loadingReturnRequest=!1,console.log(e),alert("Can't delete Return Request ! Please refresh or check your connnection !")}))},e.prototype.getCurrentReturnRequest=function(e){return this.returnRequestList.filter(function(t){return t.Id==e})},e}();a([n.i(r.ViewChild)("c"),i("design:type","function"==typeof(l=void 0!==s.b&&s.b)&&l||Object)],d.prototype,"returnRequestForm",void 0),a([n.i(r.ViewChild)("u"),i("design:type","function"==typeof(c=void 0!==s.b&&s.b)&&c||Object)],d.prototype,"editReturnRequestForm",void 0),d=a([n.i(r.Component)({selector:"app-return-requests",template:n("+oCg"),styles:[n("RoY6")]}),i("design:paramtypes",["function"==typeof(R=void 0!==o.b&&o.b)&&R||Object,"function"==typeof(h=void 0!==u.a&&u.a)&&h||Object])],d);var l,c,R,h},XfN7:function(e,t,n){"use strict";var r=n("/oeL"),s=n("CPp0"),o=n("wso+");n.d(t,"a",function(){return i});var u=this&&this.__decorate||function(e,t,n,r){var s,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(u=(o<3?s(u):o>3?s(t,n,u):s(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(e,t){this.http=e,this.urlService=t,this.Token=localStorage.getItem("Token"),this.headers=new s.c({"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("Token").toUpperCase(),Accept:"application/json"})}return e.prototype.getReturnRequest=function(){return this.http.post(this.urlService.serverUrl+"/ReturnRequest",{},{headers:this.headers})},e.prototype.updateReturnRequest=function(e){return this.http.post(this.urlService.serverUrl+"/ReturnRequest/Update",e,{headers:this.headers})},e.prototype.deleteReturnRequest=function(e){return console.log("Id = "+e),this.http.post(this.urlService.serverUrl+"/ReturnRequest/Delete?id="+e,null,{headers:this.headers})},e.prototype.searchReturnRequest=function(e){return this.http.post(this.urlService.serverUrl+"/ReturnRequest",e,{headers:this.headers})},e}();i=u([n.i(r.Injectable)(),a("design:paramtypes",["function"==typeof(d=void 0!==s.b&&s.b)&&d||Object,"function"==typeof(l=void 0!==o.a&&o.a)&&l||Object])],i);var d,l},uSwF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/oeL"),s=n("qbdv"),o=n("VrPv"),u=n("XRH+"),a=n("gOac"),i=n("bm2B"),d=n("XfN7"),l=n("iz04"),c=n("DjFD"),R=n("wso+");n.d(t,"ReturnRequestsModule",function(){return p});var h=this&&this.__decorate||function(e,t,n,r){var s,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(u=(o<3?s(u):o>3?s(t,n,u):s(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},p=function(){function e(){}return e}();p=h([n.i(r.NgModule)({imports:[s.k,o.a,a.b,i.a,l.a,c.MyDatePickerModule],providers:[d.a,R.a],declarations:[u.a]})],p)}});